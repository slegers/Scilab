package com.company;

import java.util.List;
import java.util.stream.Collectors;

public final class Main {

    public Main()
    {
    }

    private static Repo repo = new Repo();
    public static void main(String[] args) {
        input();
        List<Pizza> sortedPizzas = repo.getPizzas().parallelStream().sorted(new durePizzaComparator()).collect(Collectors.toList());
        repo.setPizzas(sortedPizzas);
        while (repo.getBonnen().parallelStream().anyMatch(bon -> !bon.isUsed()))
        {
            Bon bon = repo.getBonnen().parallelStream().filter(fap -> !fap.isUsed()).sorted(new BonComparator()).findFirst().get();
            List<Pizza> amountOfSortedPizzas = sortedPizzas.parallelStream().limit(bon.getGp() + bon.getTb()).collect(Collectors.toList());
            bon.addPizzas(amountOfSortedPizzas);
            repo.getPizzas().removeAll(amountOfSortedPizzas);
        }
        int count = repo.getBonnen().parallelStream().mapToInt(Bon::getPrijs).sum();
        count += repo.getPizzas().parallelStream().mapToInt(Pizza::getPice).sum();
        System.out.println(count + " prijs");
    }

    private static void input()
    {
        int[] pizzas = {1000,4813,1719,3762,9829,6090,4,2511,7053,2252,1708,487,8406,9927,6621,7305,2112,8230,6189,2691,8394,964,6144,7224,5138,9654,4833,3985,4846,1301,7094,5873,4544,3873,5177,1674,9210,9359,6573,6267,9117,3432,7815,8318,2343,853,1392,8598,8925,6933,4256,250,4136,7105,3898,4725,3122,788,4864,5203,3932,4495,8877,8865,4409,6169,9491,1240,9652,6698,4558,2314,4093,834,3370,8911,7580,1177,3794,7786,6511,5348,4691,551,5543,9365,3487,7395,5449,1905,6811,5229,6843,1120,480,897,3253,1216,2209,1525,7174,6600,6140,2474,3504,9516,8684,1023,929,2969,2129,1715,8037,2787,9575,7170,3946,6829,8458,2941,1057,7689,6026,1086,2918,1066,4963,8237,228,8421,3760,5140,7161,7481,1442,999,9959,5866,6627,3922,1004,3476,1067,1999,5185,3050,8722,8693,3597,7321,2897,8617,5618,3753,1610,2250,2890,8144,3832,9776,8084,7083,1460,8978,4988,434,7780,986,5510,276,2091,4415,7344,1314,3466,4420,8574,5852,4140,7294,9988,7790,7238,1649,2855,6462,1412,7501,243,7679,8921,899,5954,3236,7580,4586,3511,6449,8872,2176,6017,2687,9745,8769,6851,2977,7108,6621,6751,9361,8060,9814,2505,1427,4941,2266,816,1752,4130,4682,5422,9784,9491,2833,7857,7223,6211,388,8874,7043,2301,7232,7872,4879,8020,9190,3227,2829,2311,611,926,2674,1532,2254,1668,5313,3672,4304,2384,3317,6308,7547,9222,8141,4218,8881,5006,6268,2284,6644};
        int [] pizzas1 = {1207,3131,7927,1412,861,6761,242,496,7280,1109,1990,4593,4553,7891,1811,4889,4571,1351,4839,3202,645,6734,5098,9942,136,2850,5350,4631,4637,7578,5599,7356,8535,9870,1745,6195,928,1532,5525,3546,3829,7696,1793,8737,3175,1022,6309,4221,4607,6997,8590,5623,6053,3880,1463,3429,1722,7165,3263,5610,3,6493,5018,5086,8133,4936,3051,880,7680,2770,3726,5859,9629,5907,8290,3429,2149,883,7394,3077,470,1761,991,3256,2205,4250,8625,3026,3802,6903,4168,2205,2215,2360,9245,5285,2020,9319,733,2907,8400,2418,5030,3545,3776,8737,6682,2680,5375,9059,6056,7876,4933,4571,7194,1093,1393,7309,399,4238,6512,5022,4001,5868,9987,1574,5827,6986,8434,8343,6796,5945,2802,996,8218,5985,3003,8808,3697,2325,695,9164,6290,5827,4385,8838,6801,6967,6070,4189,5958,6519,6264,9338,4879,168,6230,4553,5363,3270,1438,2663,5099,9388,1660,1198,483,5000,9669,7555,3817,9776,9116,6921,8054,3920,8541,6961,2009,7618,9318,4853,6645,6090,1735,5075,9295,420,1739,1546,282,988,3485,6030,9221,3580,7184,2807,2190,8532,8753,5811,1366,4782,8298,4875,9647,5583,9730,9954,6518,5421,6116,9641,6366,2410,5113,8334,3262,3348,1527,1261,1031,9350,8397,4405,7001,8575,8365,9032,5045,8196,492,4243,5291,8111,3790,4626,3557,6871,1295,2313,2968,1795,7321,7967,5045,8946,5749,6862,2616,7992,899,3080,6445,5130,1595,2060,6047,7662,1374,145,116,7162,3306,7204,213,156,2372,3621,5040,2281,358,9047,1987,5239,7635,1367,2238,902,2535,2534,95,2691,4915,5892,9591,2970,2697,2235,7327,7270,5636,3930,3816,1265,9891,3449,6955,2773,6598,9904,1068,8276,8039,6748,531,1078,787,7988,9059,9209,9178,3117,5628,8787,7774,1982,2953,1142,2248,3402,5025,3942,6799,7852,8375,7996,5596,6399,6211,2889,6532,1117,1621,7105,4815,7787,5079,3259,551,478,7107,6411,9005,4385,8169,7328,3682,4250,1803,7412,7057,4211,7327,2436,5979,9630,7028,5940,2923,5156,3099};
        int[] pizzas2 = {2940,2021,1457,1902,2942,7864,6868,8000,8019,9094,9450,1362,581,5050,266,7795,1421,2736,9906,628,7850,6386,6957,606,5136,7599,1786,7180,2431,1897,8802,4926,9845,9590,3633,4004,6907,9981,9459,9634,5460,6281,8184,2045,7651,9943,1838,9487,2657,6204,8143,2368,2193,4891,79,2138,2101,9225,6633,9913,663,9840,2619,5134,4702,5749,2844,9056,6204,7990,6423,8743,572,2635,4697,8119,4184,4770,6885,5999,2701,743,8578,7104,6564,7132,9610,8398,4274,982,7410,6122,4710,6626,633,3291,5393,9920,7380,5571,7816,8368,6792,8928,6628,4292,8484,8478,7470,9488,8629,8530,7595,378,5971,2838,6933,6602,3987,9575,5832,3172,8201,7008,6074,83,4699,394,836,413,8061,7940,7060,5432,4769,4176,2983,857,3735,3331,8621,341,56,5005,7277,3109,2110,2453,764,1397,6655,2969,5078,4091,7665,8301,6049,4635,2437,5211,8947,41,9276,1046,7757,7848,5863,8736,3052,6242,4251,1660,369,6795,1006,3471,7951,1373,7273,4919,8612,2793,7263,5304,8113,7105,910,2406,8104,8377,4231,2534,916,276,6518,5736,9563,8865,5372,8429,4344,2455,7685,1118,5145,9867,45,186,5969,7070,4741,4677,5939,5081,7277,7430,1577,1319,5423,3579,6079,3796,7797,225,1913,4723,5741,4215,5763,7961,3162,3249,5333,6543,1404,7079,2404,6724,3336,7839,8858,6469,7824,7976,2997,8032,3932,8810,7947,1416,5295,9625,183,7684,2686,2948,1575,6726,4056,9097,7199,9774,4472,3229,8409,128,7668,3262,7686,9177,7094,8484,4445,2977,5717,4265,4591,3474,49,1650,2000,8047,937,777,2432,1493,9792,5076,4447,6339,2925,7588,4009,8581,7156,7075,772,4581,8022,2961,5954,3124,4481,9100,5179,96,4033,9292,8712,6880,1739,8940,1682,2886,3291,4880,5722,9897,7035,143,6989,8699,8091,9462,6772,9704,9589,2907,7672,4843,3949,3689,2708,9048,5947,972,6558,4752,7968,2935,7888,4269,9003,6038,8235,5166,4947,2199,5958,9879,8203,9930,1371,7874,8503,2488,9051,1390,440,2911,8304,1145,6539,6474,4581,3895,1202,6414,1275,7825,453,648,3351,6577,3115,8245,2745,1709};
        for (int i:pizzas)
        {
            repo.add(new Pizza(i));
        }
        for (int i:pizzas1)
        {
            repo.add(new Pizza(i));
        }
        for (int i:pizzas2)
        {
            repo.add(new Pizza(i));
        }
        int[][] bonnen = { {3,2}, {7,1}, {1,3}, {3,3},{7,1},{9,1}, {0,4},{5,0 }};
        for (int[] i:bonnen)
        {
            repo.add(new Bon(i[0],i[1]));
        }
    }
}
